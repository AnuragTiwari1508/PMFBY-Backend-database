const mongoose = require('mongoose');\nconst logger = require('../utils/logger');\n\nconst connectDB = async () => {\n  try {\n    // MongoDB connection options\n    const options = {\n      useNewUrlParser: true,\n      useUnifiedTopology: true,\n      maxPoolSize: 10, // Maintain up to 10 socket connections\n      serverSelectionTimeoutMS: 5000, // Keep trying to send operations for 5 seconds\n      socketTimeoutMS: 45000, // Close sockets after 45 seconds of inactivity\n      family: 4 // Use IPv4, skip trying IPv6\n    };\n\n    // Connect to MongoDB Atlas\n    const conn = await mongoose.connect(process.env.MONGODB_URI, options);\n    \n    logger.info(`MongoDB Connected: ${conn.connection.host}`);\n    logger.info(`Database Name: ${conn.connection.name}`);\n    \n    // Connection event listeners\n    mongoose.connection.on('disconnected', () => {\n      logger.warn('MongoDB disconnected');\n    });\n    \n    mongoose.connection.on('reconnected', () => {\n      logger.info('MongoDB reconnected');\n    });\n    \n    mongoose.connection.on('error', (err) => {\n      logger.error('MongoDB connection error:', err);\n    });\n    \n  } catch (error) {\n    logger.error('MongoDB connection failed:', error.message);\n    \n    // Exit process with failure\n    process.exit(1);\n  }\n};\n\n// Graceful shutdown\nprocess.on('SIGINT', async () => {\n  try {\n    await mongoose.connection.close();\n    logger.info('MongoDB connection closed through app termination');\n    process.exit(0);\n  } catch (error) {\n    logger.error('Error during graceful shutdown:', error);\n    process.exit(1);\n  }\n});\n\nmodule.exports = connectDB;